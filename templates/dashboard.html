{% extends 'base.html' %}
{% block title %}ダッシュボード | Delivery Navigator{% endblock %}
{% block content %}
<section class="panel">
  <h2>今日のざっくり情報</h2>
  <div style="display:grid;gap:12px;grid-template-columns:1fr;margin-top:8px">
    <div class="panel" style="padding:14px">
      <div class="muted">いちばん良いエリア</div>
      <div style="font-weight:700;font-size:20px" id="bestArea">—</div>
    </div>
    <div class="panel" style="padding:14px">
      <div class="muted">平均の目安</div>
      <div style="font-weight:700;font-size:20px" id="avgWage">—</div>
    </div>
  </div>
</section>
<script>
  (function(){
    const areas = DN_DATA.areas || [];
    if (!areas.length) return;
    const best = [...areas].sort((a,b)=>(b.wage_per_h||0)-(a.wage_per_h||0))[0];
    const avg = Math.round(areas.reduce((s,a)=>s+(a.wage_per_h||0),0)/areas.length);
    document.getElementById('bestArea').textContent = `${best.area}（¥${best.wage_per_h}/h）`;
    document.getElementById('avgWage').textContent = `¥${avg}/h`;
  })();
</script>
{% endblock %}
